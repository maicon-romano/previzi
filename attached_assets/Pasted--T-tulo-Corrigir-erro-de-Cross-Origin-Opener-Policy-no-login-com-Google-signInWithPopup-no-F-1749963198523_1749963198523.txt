
**Título:** Corrigir erro de Cross-Origin-Opener-Policy no login com Google (signInWithPopup) no Firebase Hosting

---

**Descrição:**

Atualmente, ao tentar fazer login com o Google via `signInWithPopup()` no meu projeto Previzi hospedado no Firebase Hosting, estou recebendo o seguinte erro no console:

```
Cross-Origin-Opener-Policy policy would block the window.closed call.
```

**Detalhes:**

* O erro acontece logo após selecionar a conta Google.
* O fluxo de login até parece funcionar, mas o erro gera preocupação.
* O projeto usa Vite + React + Firebase Auth.
* Meu domínio de produção está em: `https://financas.previzi.com.br` (subdomínio configurado no Firebase Hosting).

---

**O que eu gostaria que fosse feito:**

✅ Uma das opções abaixo (avaliem qual for melhor para meu caso):

1. **(Preferencial)** Migrar o fluxo de login para **`signInWithRedirect()`**, substituindo o atual `signInWithPopup()`, para evitar o erro e melhorar a compatibilidade mobile.

OU

2. Se for viável: **Configurar os headers `Cross-Origin-Opener-Policy` e `Cross-Origin-Embedder-Policy` no `firebase.json`**, seguindo as recomendações da própria documentação da Firebase Auth para permitir popups.

**Exemplo de headers sugeridos caso optem pela segunda opção:**

```json
{
  "hosting": {
    "headers": [
      {
        "source": "/**",
        "headers": [
          { "key": "Cross-Origin-Opener-Policy", "value": "same-origin" },
          { "key": "Cross-Origin-Embedder-Policy", "value": "require-corp" }
        ]
      }
    ]
  }
}
```

---

**Observações adicionais:**

* Prioridade: **Experiência de login Google limpa e sem erros visuais no console**.
* Se forem optar pela opção 1 (redirect), peço que já ajustem o código React/Firebase para usar `signInWithRedirect()` corretamente.

---

**Objetivo final:**

Que o login via Google funcione sem erros de CORS/COOP/iframe e sem warnings de política de segurança, tanto em Desktop quanto Mobile.

